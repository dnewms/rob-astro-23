---
import { Image } from 'astro:assets';

interface Props {
  title: string;
  date: string;
  slug: string;
  excerpt?: string;
  image?: {
    src: ImageMetadata;  // Changed to ImageMetadata type
    alt: string;
  };
  isLarge?: boolean;
}

const { 
  title, 
  date, 
  slug, 
  excerpt, 
  image, 
  isLarge = false 
} = Astro.props;
---

<a href={`/news/${new Date(date).getFullYear()}/${slug}`} 
   class={`group block bg-gray-100 dark:bg-gray-700 shadow-md rounded-sm overflow-hidden hover:shadow-lg transition-all duration-300 hover:scale-[1.02] ${isLarge ? 'md:col-span-2' : ''}`}>
  {image && (
    <Image 
      src={image.src}
      alt={image.alt || 'News image'}
      width={isLarge ? 760 : 450}
      height={isLarge ? 384 : 300}
      class={`w-full ${isLarge ? 'h-96' : 'h-48'} object-cover`}
    />
  )}
  <div class="p-4">
    <h3 class="text-xl font-roboto font-bold mb-2 text-umichblue dark:text-gray-100 border-b-2 border-transparent group-hover:border-maize transition-all duration-300">{title}</h3>
    <p class="text-sm italic font-sans text-gray-600 dark:text-gray-400 mb-4">
      {new Date(date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}
    </p>
    {excerpt && <p class="text-gray-600 dark:text-gray-200 mb-0">{excerpt}</p>}
  </div>
</a>